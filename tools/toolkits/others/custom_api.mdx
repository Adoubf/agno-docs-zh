---
title: 自定义 API
---
**CustomApiTools** 允许智能体向任何外部API发起HTTP请求，并支持自定义认证和参数配置。

## 前提条件

以下示例需要 `requests` 库。

```shell
pip install requests
```

## 示例

以下智能体将使用CustomApiTools工具向Dog CEO API发起调用。

```python cookbook/tools/custom_api_tools.py
from agno.agent import Agent
from agno.tools.api import CustomApiTools

agent = Agent(
    tools=[CustomApiTools(base_url="https://dog.ceo/api")],
    markdown=True,
)

agent.print_response(
    'Make API calls to the following two different endpoints: /breeds/image/random and /breeds/list/all to get a random dog image and list of dog breeds respectively. Use GET method for both calls.'
)
```

## 工具包参数

| 参数名       | 类型                | 默认值 | 描述                                                         |
| ------------- | ------------------- | ------- | ------------------------------------------------------------ |
| `base_url`    | `str`               | `None`  | API调用的基础URL                                              |
| `username`    | `str`               | `None`  | 基础认证的用户名                                              |
| `password`    | `str`               | `None`  | 基础认证的密码                                                |
| `api_key`     | `str`               | `None`  | 用于Bearer Token认证的API密钥                                 |
| `headers`     | `Dict[str, str]`    | `{}`    | 请求中包含的默认头信息                                        |
| `verify_ssl`  | `bool`              | `True`  | 是否验证SSL证书                                               |
| `timeout`     | `int`               | `30`    | 请求超时时间（秒）                                            |
| `make_request`| `bool`              | `True`  | 是否注册make_request函数                                      |

## 工具包函数

| 函数名        | 描述                                                                                                                                                |
| -------------- | -------------------------------------------------------------------------------------------------------------------------------------------------- |
| `make_request` | 向API发起HTTP请求。接收方法（GET、POST等）、端点路径参数，以及可选的params、data、headers和json_data参数。                                          |

## 开发者资源

- 查看[工具文档](https://github.com/agno-agi/agno/blob/main/libs/agno/agno/tools/api.py)
- 查看[操作手册](https://github.com/agno-agi/agno/blob/main/cookbook/tools/custom_api_tools.py)