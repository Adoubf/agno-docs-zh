---
title: Python
sidebarTitle: Python
---
**Python工具**允许智能体编写并运行Python代码。

## 示例

以下智能体将编写一个生成斐波那契数列的Python脚本，将其保存到文件，运行并返回结果。

```python cookbook/tools/python_tools.py
from agno.agent import Agent
from agno.tools.python import PythonTools

agent = Agent(tools=[PythonTools()], show_tool_calls=True)
agent.print_response("Write a python script for fibonacci series and display the result till the 10th number")
```

## 工具包参数

| 参数      | 类型   | 默认值 | 描述                                                                                             |
| -------------- | ------ | ------- | ------------------------------------------------------------------------------------------------------- |
| `base_dir`     | `Path` | `None`  | 指定操作的基础目录。默认为None，表示当前工作目录。 |
| `save_and_run` | `bool` | `True`  | 如果为True，则保存并运行代码。适用于保存后执行脚本的场景。                         |
| `pip_install`  | `bool` | `False` | 在运行代码前启用pip安装所需包。                                  |
| `run_code`     | `bool` | `False` | 决定代码是否应被执行。                                                         |
| `list_files`   | `bool` | `False` | 如果为True，则列出指定基础目录中的所有文件。                                               |
| `run_files`    | `bool` | `False` | 如果为True，则运行指定目录中的Python文件。                                        |
| `read_files`   | `bool` | `False` | 如果为True，则读取指定目录中文件的内容。                                    |
| `safe_globals` | `dict` | -       | 指定一个字典，包含执行期间被认为安全的全局变量。        |
| `safe_locals`  | `dict` | -       | 指定一个字典，包含执行期间被认为安全的局部变量。         |

## 工具包函数

| 函数                          | 描述                                                                                                                                                                                                                                                           |
| --------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `save_to_file_and_run`            | 该函数将Python代码保存到名为`file_name`的文件中并运行。如果成功，则返回`variable_to_return`的值（如提供），否则返回成功消息。如果失败，返回错误消息。确保文件名以`.py`结尾。 |
| `run_python_file_return_variable` | 该函数运行Python文件中的代码。如果成功，则返回`variable_to_return`的值（如提供），否则返回成功消息。如果失败，返回错误消息。                                                                              |
| `read_file`                       | 读取文件`file_name`的内容并在成功时返回。                                                                                                                                                                                    |
| `list_files`                      | 返回基础目录中的文件列表                                                                                                                                                                                                                         |
| `run_python_code`                 | 该函数在当前环境中运行Python代码。如果成功，则返回`variable_to_return`的值（如提供），否则返回成功消息。如果失败，返回错误消息。                                                             |
| `pip_install_package`             | 该函数在当前环境中使用pip安装包。如果成功，返回成功消息。如果失败，返回错误消息。                                                                                                                 |

## 开发者资源

- 查看[工具](https://github.com/agno-agi/agno/blob/main/libs/agno/agno/tools/python.py)
- 查看[Cookbook](https://github.com/agno-agi/agno/blob/main/cookbook/tools/python_tools.py)