# æ‰‹åŠ¨çŸ¥è¯†è¿‡æ»¤å™¨

æ‰‹åŠ¨è¿‡æ»¤åŠŸèƒ½å…è®¸æ‚¨ç›´æ¥åœ¨ä»£ç ä¸­æŒ‡å®šç­›é€‰æ¡ä»¶ï¼Œä»è€Œå®Œå…¨æ§åˆ¶å“ªäº›æ–‡æ¡£ä¼šè¢«æ£€ç´¢ã€‚

## ç¬¬ä¸€æ­¥ï¼šé™„åŠ å…ƒæ•°æ®

æœ‰ä¸¤ç§æ–¹å¼å¯ä»¥ä¸ºæ–‡æ¡£é™„åŠ å…ƒæ•°æ®ï¼š

1. **åˆå§‹åŒ–çŸ¥è¯†åº“æ—¶é™„åŠ å…ƒæ•°æ®**

    ```python
    knowledge_base = PDFKnowledgeBase(
        path=[
            {
                "path": "path/to/cv1.pdf",
                "metadata": {
                    "user_id": "jordan_mitchell",
                    "document_type": "cv",
                    "year": 2025,
                },
            },
            # ...æ›´å¤šæ–‡æ¡£...
        ],
        vector_db=vector_db,
    )
    knowledge_base.load(recreate=True)
    ```

2. **é€ä¸ªåŠ è½½æ–‡æ¡£æ—¶é™„åŠ å…ƒæ•°æ®**

    ```python
    # åˆå§‹åŒ– PDFKnowledgeBase
    knowledge_base = PDFKnowledgeBase(
        vector_db=vector_db,
        num_documents=5,
    )

    # åŠ è½½ç¬¬ä¸€ä¸ªå¸¦æœ‰ user_1 å…ƒæ•°æ®çš„æ–‡æ¡£
    knowledge_base.load_document(
        path=path/to/cv1.pdf,
        metadata={"user_id": "jordan_mitchell", "document_type": "cv", "year": 2025},
        recreate=True,  # Set to True only for the first run, then set to False
    )

    # åŠ è½½å¸¦æœ‰ user_2 å…ƒæ•°æ®çš„ç¬¬äºŒä¸ªæ–‡æ¡£
    knowledge_base.load_document(
        path=path/to/cv2.pdf,
        metadata={"user_id": "taylor_brooks", "document_type": "cv", "year": 2025},
    )
    ```

---

> ğŸ’¡ **æç¤ºï¼š**  
> â€¢ å¦‚æœæ‰€æœ‰æ–‡æ¡£å’Œå…ƒæ•°æ®å·²å‡†å¤‡å°±ç»ªï¼Œè¯·ä½¿ç”¨**æ–¹æ¡ˆ1**  
> â€¢ å¦‚éœ€é€æ­¥æ·»åŠ æ–‡æ¡£æˆ–æŒ‰éœ€åŠ è½½ï¼Œè¯·ä½¿ç”¨**æ–¹æ¡ˆ2**

## ç¬¬äºŒæ­¥ï¼šå¸¦ç­›é€‰æ¡ä»¶æŸ¥è¯¢

å¯é€šè¿‡ä¸¤ç§æ–¹å¼ä¼ é€’ç­›é€‰æ¡ä»¶ï¼š

### 1. åœ¨Agentçº§åˆ«è®¾ç½®ï¼ˆé€‚ç”¨äºæ‰€æœ‰æŸ¥è¯¢ï¼‰

```python
agent = Agent(
    knowledge=knowledge_base,
    search_knowledge=True,
    knowledge_filters={"user_id": "jordan_mitchell"},
)
agent.print_response(
    "Tell me about Jordan Mitchell's experience and skills",
    markdown=True,
)
```

### 2. åœ¨å•æ¬¡æŸ¥è¯¢æ—¶è®¾ç½®ï¼ˆè¦†ç›–Agentçº§åˆ«çš„ç­›é€‰æ¡ä»¶ï¼‰

```python
agent = Agent(
    knowledge=knowledge_base,
    search_knowledge=True,
)
agent.print_response(
    "Tell me about Jordan Mitchell's experience and skills",
    knowledge_filters={"user_id": "jordan_mitchell"},
    markdown=True,
)
```

<Note>è‹¥åŒæ—¶è®¾ç½®Agentçº§åˆ«å’ŒæŸ¥è¯¢çº§åˆ«çš„ç­›é€‰æ¡ä»¶ï¼ŒæŸ¥è¯¢çº§åˆ«çš„æ¡ä»¶å°†ä¼˜å…ˆç”Ÿæ•ˆ</Note>

## ç»„åˆå¤šé‡ç­›é€‰æ¡ä»¶

æ”¯æŒæŒ‰å¤šå­—æ®µè”åˆç­›é€‰ï¼š

```python
agent = Agent(
    knowledge=knowledge_base,
    search_knowledge=True,
    knowledge_filters={
        "user_id": "jordan_mitchell",
        "document_type": "cv",
        "year": 2025,
    }
)
agent.print_response(
    "Tell me about Jordan Mitchell's experience and skills",
    markdown=True,
)
```

## ç«‹å³å°è¯•ï¼

- åŠ è½½å¸¦æœ‰ä¸åŒå…ƒæ•°æ®çš„æ–‡æ¡£
- ä½¿ç”¨ä¸åŒç­›é€‰æ¡ä»¶ç»„åˆè¿›è¡ŒæŸ¥è¯¢
- è§‚å¯Ÿç»“æœå˜åŒ–ï¼

---

## å¼€å‘èµ„æº
- [æ‰‹åŠ¨è¿‡æ»¤](https://github.com/agno-agi/agno/blob/main/cookbook/agent_concepts/knowledge/filters/pdf/filtering.py)
- [åŠ è½½æ—¶æ‰‹åŠ¨è¿‡æ»¤](https://github.com/agno-agi/agno/blob/main/cookbook/agent_concepts/knowledge/filters/pdf/filtering_on_load.py)