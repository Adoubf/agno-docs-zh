---
title: "Sage：问答引擎"
---
本示例展示如何构建Sage——一个类似Perplexity的智能应答引擎，它能根据用户查询智能判断应执行网页搜索还是使用ExaTools进行深度分析。

Sage功能：
1. 结合实时网页搜索（DuckDuckGo）与深度上下文分析（ExaTools）提供全面解答
2. 根据查询复杂度智能选择工具
3. 提供交互式Streamlit UI，支持会话管理与聊天记录导出
4. 兼容多LLM服务商（OpenAI、Anthropic、Google、Groq）

## 核心能力
- 自然语言查询理解与处理
- DuckDuckGo实时网页搜索集成
- ExaTools深度上下文分析
- 多LLM服务商支持
- SQLite会话管理
- 聊天记录导出
- 交互式Streamlit界面

<video
  autoPlay
  muted
  controls
  className="w-full aspect-video"
  src="/videos/answer-engine.mp4"
></video>

## 简单查询示例
- "告诉我美国2025年将实施的关税政策"
- "o3-mini和DeepSeek R1哪个推理模型更好？"
- "介绍一下Agno"
- "可再生能源的最新趋势是什么？"

## 深度分析查询
- "评估新兴AI法规如何影响创新"
- "对比电动车与氢能源车的环境影响"
- "分析全球半导体供应链挑战"
- "阐释量子计算对密码学的影响"

## 代码实现
完整代码详见[Agno代码仓库](https://github.com/agno-agi/agno)。

## 使用说明

<Steps>
  <Step title="克隆仓库">
    ```bash
    git clone https://github.com/agno-agi/agno.git
    cd agno
    ```
  </Step>

  <Step title="创建虚拟环境">
    ```bash
    python3 -m venv .venv
    source .venv/bin/activate  # On Windows: .venv\Scripts\activate
    ```
  </Step>

  <Step title="安装依赖项">
    ```bash
    pip install -r cookbook/examples/streamlit_apps/answer_engine/requirements.txt
    ```
  </Step>

  <Step title="设置API密钥">
    ```bash
    # 必需
    export OPENAI_API_KEY=***
    export EXA_API_KEY=***

    # 可选（用于附加模型）
    export ANTHROPIC_API_KEY=***
    export GOOGLE_API_KEY=***
    export GROQ_API_KEY=***
    ```
    推荐使用gpt-4o以获得最佳性能
  </Step>

  <Step title="启动应用">
    ```bash
    streamlit run cookbook/examples/streamlit_apps/answer_engine/app.py
    ```
    访问[localhost:8501](http://localhost:8501)开始使用Sage
  </Step>
</Steps>

## 模型选择
支持以下模型服务商：
- OpenAI（o3-mini、gpt-4o）
- Anthropic（claude-3-5-sonnet）
- Google（gemini-2.0-flash-exp）
- Groq（llama-3.3-70b-versatile）

## 智能体配置
配置文件位于`agents.py`，提示词位于`prompts.py`：
- 修改提示词需更新`prompts.py`文件
- 添加新工具或模型需更新`agents.py`文件

## 支持服务
需要帮助？请加入我们的[Discourse社区](https://community.agno.com)获取支持！