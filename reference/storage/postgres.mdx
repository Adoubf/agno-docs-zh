---
title: PostgreSQL Agent Storage
sidebarTitle: PostgreSQL
---

## Example

```python agent_with_storage.py
from phi.agent import Agent
from phi.storage.agent.postgres import PgAgentStorage

agent = Agent(
    # -*- Add storage to the agent
    storage = PgAgentStorage(
        # Table name: ai.agent_runs
        table_name="agent_runs",
        db_url=db_url,
    )
)
```

## PgAgentStorage Params

| Parameter | Type | Default | Description |
| --- | --- | --- | --- |
| `table_name` | `str` | - | Name of the table to store Agent sessions. |
| `schema` | `Optional[str]` | `"ai"` | Schema to store the table in. |
| `db_url` | `Optional[str]` | `None` | Database URL for connection. |
| `db_engine` | `Optional[Engine]` | `None` | SQLAlchemy database engine. |
| `schema_version` | `int` | `1` | Version of the schema. |
| `auto_upgrade_schema` | `bool` | `False` | Automatically upgrade schema if True. |